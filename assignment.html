<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Emergency Hotline</title>
  <style>
    :root{
      --bg:#0b1021;
      --card:#151b34;
      --muted:#97a0c3;
      --accent:#5ac8fa;
      --hot:#ff5e57;
      --good:#2ecc71;
      --badge:#222a4b;
      --white:#ffffff;
      --shadow:0 10px 25px rgba(0,0,0,.25);
      --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0; padding:0; font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; background:#0b0f1f; color:#e9ecff}

    /* NAVBAR */
    .navbar{position:sticky; top:0; z-index:50; backdrop-filter: blur(8px); background:rgba(10,14,30,.6); border-bottom:1px solid rgba(255,255,255,.08)}
    .nav-wrap{max-width:1200px; margin:0 auto; padding:12px 16px; display:flex; align-items:center; justify-content:space-between}
    .brand{display:flex; gap:10px; align-items:center}
    .logo{width:36px; height:36px; display:grid; place-items:center; border-radius:10px; background:linear-gradient(135deg,#4f46e5,#06b6d4)}
    .brand h1{font-size:18px; margin:0; letter-spacing:.3px}

    .stats{display:flex; align-items:center; gap:10px}
    .pill{display:flex; align-items:center; gap:8px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08); padding:8px 12px; border-radius:999px}
    .pill .num{font-weight:700}
    .pill .ico{font-size:18px; line-height:1}

    /* HERO */
    .hero{position:relative; overflow:hidden;}
    .hero-inner{max-width:1100px; margin:0 auto; padding:56px 16px 72px; text-align:center;}
    .hero-bg{position:absolute; inset:0; background:radial-gradient(1200px 600px at 50% -10%, #4f46e533 0%, transparent 60%),
                                    radial-gradient(1000px 500px at 30% 120%, #06b6d433 0%, transparent 60%),
                                    linear-gradient(180deg, #0b1021 0%, #0b0f1f 100%); z-index:-1}
    .hero .top-logo{width:64px; height:64px; margin:0 auto 16px; display:grid; place-items:center; border-radius:16px; background:linear-gradient(135deg,#06b6d4,#4f46e5)}
    .hero h2{margin:0; font-size:32px}
    .hero p{margin:12px auto 0; color:#c9cfec; max-width:700px}

    /* MAIN */
    .main{max-width:1200px; margin:0 auto; padding:24px 16px 56px}
    .grid{display:grid; grid-template-columns:1.25fr .75fr; gap:20px}

    /* Left: Cards */
    .section-title{display:flex; align-items:center; gap:10px; margin:0 0 12px 4px; color:#c9cfec}
    .cards{display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:16px}

    .card{background:var(--card); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); padding:14px; box-shadow:var(--shadow); display:flex; flex-direction:column; gap:10px}
    .card-head{display:flex; align-items:center; gap:10px}
    .fav{cursor:pointer; font-size:18px; line-height:1; filter:grayscale(1); opacity:.9; transition:transform .15s ease, filter .15s ease}
    .fav:hover{transform:scale(1.12); filter:none}
    .avatar{width:44px; height:44px; border-radius:12px; display:grid; place-items:center; font-size:22px; background:linear-gradient(135deg,#111731,#243158)}
    .names{flex:1}
    .bn{font-weight:700; letter-spacing:.2px}
    .en{font-size:12px; color:#b7bfdf}
    .badge{align-self:flex-start; margin-left:54px; background:var(--badge); color:#b7bfdf; padding:4px 8px; border-radius:999px; font-size:11px; border:1px solid rgba(255,255,255,.08)}

    .number{display:flex; align-items:center; gap:6px; font-weight:700; background:rgba(255,255,255,.06); border:1px dashed rgba(255,255,255,.15); padding:8px 10px; border-radius:10px}

    .actions{display:flex; gap:10px; margin-top:auto}
    .btn{flex:1; display:inline-flex; align-items:center; gap:8px; justify-content:center; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.06); color:#e9ecff; cursor:pointer; font-weight:600}
    .btn:active{transform:translateY(1px)}
    .btn.call{background:linear-gradient(180deg,#1cdd76,#14b45f); border-color:#1bb96a; color:#041307}
    .btn.copy{background:linear-gradient(180deg,#232a4a,#1a203d)}

    /* Right: History (white background) */
    .history-wrap{background:#ffffff; color:#0b1021; border-radius:var(--radius); border:1px solid rgba(0,0,0,.08); box-shadow:var(--shadow); display:flex; flex-direction:column; min-height:100%}
    .history-top{display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid rgba(0,0,0,.08)}
    .history-title{display:flex; align-items:center; gap:10px; font-weight:800}
    .history-clear{appearance:none; background:#0b1021; color:#fff; border:none; padding:8px 12px; border-radius:10px; cursor:pointer}
    .history-list{padding:12px 16px; display:flex; flex-direction:column; gap:10px}
    .history-empty{opacity:.6}
    .history-item{display:flex; gap:10px; align-items:flex-start; padding:10px 12px; border:1px solid rgba(0,0,0,.08); border-radius:12px}
    .history-item .ico{width:34px; height:34px; display:grid; place-items:center; border-radius:10px; background:#eef2ff}
    .history-meta{flex:1}
    .history-name{font-weight:700}
    .history-num{font-size:12px; opacity:.7}
    .history-time{font-size:12px; white-space:nowrap}

    /* Responsive */
    @media (max-width: 1100px){
      .cards{grid-template-columns:repeat(2,minmax(0,1fr))}
    }
    @media (max-width: 820px){
      .grid{grid-template-columns:1fr;}
      .history-wrap{order:-1}
    }
    @media (max-width: 480px){
      .brand h1{font-size:16px}
      .cards{grid-template-columns:1fr}
      .btn{padding:10px}
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-wrap">
      <div class="brand">
        <div class="logo" aria-hidden="true">ðŸ›Ÿ</div>
        <h1 id="siteName">Emergency Hotline</h1>
      </div>
      <div class="stats" aria-label="Website stats">
        <div class="pill" title="Hearts">
          <span class="ico">ðŸ’—</span>
          <span>Hearts:</span>
          <span id="heartCount" class="num">0</span>
        </div>
        <div class="pill" title="Coins">
          <span class="ico">ðŸª™</span>
          <span>Coins:</span>
          <span id="coinCount" class="num">100</span>
        </div>
        <div class="pill" title="Copy Count">
          <span class="ico">ðŸ“‹</span>
          <span>Copies:</span>
          <span id="copyCount" class="num">0</span>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-bg" aria-hidden="true"></div>
    <div class="hero-inner">
      <div class="top-logo" aria-hidden="true">ðŸš‘</div>
      <h2 id="heroTitle">Dial Help. Save Time. Stay Safe.</h2>
      <p id="heroSlogan">Trusted emergency contacts at your fingertips â€” copy or call instantly when it matters most.</p>
    </div>
  </section>

  <!-- MAIN -->
  <main class="main">
    <div class="grid">
      <!-- LEFT: Cards -->
      <section>
        <h3 class="section-title">Emergency Hotline Section</h3>
        <div id="cards" class="cards" aria-live="polite"></div>
      </section>

      <!-- RIGHT: History -->
      <aside class="history-wrap">
        <div class="history-top">
          <div class="history-title"><span>ðŸ•˜</span> <span>Call History</span></div>
          <button id="clearHistoryBtn" class="history-clear">Clear History</button>
        </div>
        <div id="historyList" class="history-list">
          <div class="history-empty">No calls yet. Your call history will appear here.</div>
        </div>
      </aside>
    </div>
  </main>

  <script>
    // ====== DATA (at least 6 cards) ======
    const services = [
      { id:1, emoji:'ðŸš‘', nameBn:'à¦à¦®à§à¦¬à§à¦²à§‡à¦¨à§à¦¸', nameEn:'Ambulance', number:'999', category:'Medical'},
      { id:2, emoji:'ðŸ‘®â€â™‚ï¸', nameBn:'à¦ªà§à¦²à¦¿à¦¶', nameEn:'Police', number:'999', category:'Security'},
      { id:3, emoji:'ðŸš’', nameBn:'à¦«à¦¾à¦¯à¦¼à¦¾à¦° à¦¸à¦¾à¦°à§à¦­à¦¿à¦¸', nameEn:'Fire Service', number:'102', category:'Rescue'},
      { id:4, emoji:'ðŸ©º', nameBn:'à¦¸à§à¦¬à¦¾à¦¸à§à¦¥à§à¦¯ à¦¸à§‡à¦¬à¦¾', nameEn:'Health Care', number:'+88016263', category:'Medical'},
      { id:5, emoji:'ðŸ‘©â€âš•ï¸', nameBn:'à¦†à¦‡à¦‡à¦¡à¦¿à¦¸à¦¿à¦†à¦°', nameEn:'IEDCR', number:'10655', category:'Medical'},
      { id:6, emoji:'ðŸ§’', nameBn:'à¦¶à¦¿à¦¶à§ à¦¸à¦¹à¦¾à§Ÿà¦¤à¦¾', nameEn:'Child Help', number:'1098', category:'Social'},
      { id:7, emoji:'ðŸ‘©â€ðŸ’¼', nameBn:'à¦¨à¦¾à¦°à§€ à¦“ à¦¶à¦¿à¦¶à§ à¦¨à¦¿à¦°à§à¦¯à¦¾à¦¤à¦¨', nameEn:'Women & Child', number:'109', category:'Social'},
      { id:8, emoji:'ðŸ“ž', nameBn:'à¦œà¦¾à¦¤à§€à§Ÿ à¦¤à¦¥à§à¦¯ à¦¸à¦¹à¦¾à§Ÿà¦¤à¦¾', nameEn:'Information', number:'333', category:'Govt'}
    ];

    // ====== STATE ======
    let coins = 100; // default
    let hearts = 0;
    let copies = 0;
    const history = []; // {name, number, time}

    // ====== HELPERS ======
    const el = sel => document.querySelector(sel);
    const fmtTime = d => d.toLocaleString(undefined, {hour12:true, hour:'2-digit', minute:'2-digit', second:'2-digit', year:'numeric', month:'short', day:'2-digit'});

    function updateNavbar(){
      el('#coinCount').textContent = coins;
      el('#heartCount').textContent = hearts;
      el('#copyCount').textContent = copies;
    }

    function ensureHistoryEmptyState(){
      const list = el('#historyList');
      if(history.length === 0){
        list.innerHTML = '<div class="history-empty">No calls yet. Your call history will appear here.</div>';
      }
    }

    function renderHistory(){
      const list = el('#historyList');
      if(history.length === 0){ ensureHistoryEmptyState(); return; }
      list.innerHTML = '';
      history.forEach(item =>{
        const row = document.createElement('div');
        row.className = 'history-item';
        row.innerHTML = `
          <div class="ico">ðŸ“ž</div>
          <div class="history-meta">
            <div class="history-name">${item.name}</div>
            <div class="history-num">${item.number}</div>
          </div>
          <div class="history-time">${item.time}</div>
        `;
        list.appendChild(row);
      });
    }

    async function copyToClipboard(text){
      try{
        if(navigator.clipboard && navigator.clipboard.writeText){
          await navigator.clipboard.writeText(text);
          return true;
        } else {
          // Fallback
          const ta = document.createElement('textarea');
          ta.value = text; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
          return true;
        }
      }catch(e){ return false; }
    }

    // ====== CARD RENDER ======
    function renderCards(){
      const wrap = el('#cards');
      wrap.innerHTML = '';
      services.forEach(s =>{
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div class="card-head">
            <button class="fav" aria-label="Like service" title="Add heart">ðŸ’—</button>
            <div class="avatar">${s.emoji}</div>
            <div class="names">
              <div class="bn">${s.nameBn}</div>
              <div class="en">${s.nameEn}</div>
            </div>
          </div>
          <span class="badge">${s.category}</span>
          <div class="number" aria-label="Hotline number"><span>â˜Ž</span><span class="num">${s.number}</span></div>
          <div class="actions">
            <button class="btn copy" title="Copy number"><span>ðŸ“‹</span><span>Copy</span></button>
            <button class="btn call" title="Call now"><span>ðŸ“ž</span><span>Call</span></button>
          </div>
        `;

        // HEART
        card.querySelector('.fav').addEventListener('click', ()=>{
          hearts += 1; updateNavbar();
        });

        // COPY
        card.querySelector('.btn.copy').addEventListener('click', async ()=>{
          const ok = await copyToClipboard(s.number);
          copies += 1; updateNavbar();
          alert(ok ? `Number copied: ${s.number}\nCopy count increased!` : 'Copy failed. You can select the number and copy manually.');
        });

        // CALL
        card.querySelector('.btn.call').addEventListener('click', ()=>{
          if(coins < 20){
            alert('Not enough coins (need 20). Please top up to make a call.');
            return;
          }
          // Confirm + alert
          alert(`Calling ${s.nameEn} (${s.number})...`);
          coins -= 20; updateNavbar();
          const time = fmtTime(new Date());
          history.unshift({ name: `${s.nameBn} / ${s.nameEn}`, number: s.number, time });
          renderHistory();
          // Optional: trigger a tel: link in a non-blocking way
          const a = document.createElement('a');
          a.href = `tel:${s.number}`; a.style.display='none'; document.body.appendChild(a); a.click(); a.remove();
        });

        wrap.appendChild(card);
      });
    }

    // ====== CLEAR HISTORY ======
    el('#clearHistoryBtn').addEventListener('click', ()=>{
      if(history.length===0){ ensureHistoryEmptyState(); return; }
      if(confirm('Clear all call history?')){
        history.length = 0; renderHistory();
      }
    });

    // ====== INIT ======
    updateNavbar();
    renderCards();
    ensureHistoryEmptyState();
  </script>
</body>
</html>
